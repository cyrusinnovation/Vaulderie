<html>
  <head>
    <title>Vaulderie</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="./js/jquery.mobile-1.1.0/jquery.mobile-1.1.0.min.css" />
    <script type="text/javascript" src='./js/cordova-1.9.0.js'></script>
    <script type="text/javascript" src='./js/rps.js'></script>
    <script type="text/javascript" src='./js/pool.js'></script>
    <script type="text/javascript" src='./js/calculate.js'></script>
    <script type="text/javascript" src="./js/jquery.min.js"></script>
    <script type="text/javascript" src="./js/jquery.mobile-1.1.0/jquery.mobile-1.1.0.min.js"></script>
    <script type="text/javascript" src="./js/jsrender.js"></script>
    <script type="text/javascript" src="./js/app.js"></script>
    <script type="text/javascript">
      $.views.tags({
fields: function( object ) {
var key,
ret = "";
for ( key in object ) {
if ( object.hasOwnProperty( key )) {
// For each property/field, render the content of the {{fields object}} tag, with "~key" as template parameter
ret += this.renderContent( object[ key ], { key: key });
}
}
return ret;
}
});
</script>
<style type="text/css">
  .ui-grid-a .ui-block-a { width: 65% }
  .ui-grid-a .ui-block-b { width: 35%; }
  .field input { margin-bottom: 1em; }
</style>
  </head>

  <body>
    <div id="homepage" data-role="page" data-theme="a">
      <div data-role="header">
        <h1>Vaulderie</h1>
      </div>

      <div data-role="content"> 
        <form id="number-chars">
          <label for="char-count">How many characters are involved?</label>
          <select id="char-count">
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
            <option value="11">11</option>
            <option value="12">12</option>
            <option value="13">13</option>
            <option value="14">14</option>
            <option value="15">15</option>
            <option value="16">16</option>
            <option value="17">17</option>
            <option value="18">18</option>
            <option value="19">19</option>
            <option value="20">20</option>
          </select>
        </form>
        <a href="#char-1" data-role="button">Next</a>
      </div>
    </div>

    <script id="grid" type="text/x-jquery-tmpl">
      <div data-role="page" data-theme="a">
        <div data-role="header"><h1>Vaulderie</h1></div>
        <div data-role="content">
          <h3 style='text-align:center;'>Contribution</h3>
          <div class="ui-grid-a"
            {{for currentChar render '#char-inputs'}}
            <h3 style='text-align:center;'>Bond Rating</h3>
            {{for otherChars render '#char-inputs'}}
          </div>
        </div>

      </script>

      <script id="char-inputs" type="text/x-jquery-tmpl">
        <div class="ui-block-a field">
          <input type="text" id="char-{{:id}}-name" {{:enabled}} value="{{:name}}" placeholder="Character Name" />
        </div>
        <div class="ui-block-b">
          <select id="char-{{:id}}">
            <option value="0">0</option>
            <option value="1">1</option>
            <option value="2">2</option>
            <option value="3">3</option>
            <option value="4">4</option>
            <option value="5">5</option>
            <option value="6">6</option>
            <option value="7">7</option>
            <option value="8">8</option>
            <option value="9">9</option>
            <option value="10">10</option>
          </select>
        </div> 
      </script>

      <script id='char-results' type='text/x-jquery-tmpl'>
        <div id="results-{{:id}}" data-role="page" data-theme="a">
          <div data-role="header">
            <h1>{{:name}}</h1>
          </div>
          <div data-role="content">
            <table style="border: 1px solid #fff;">
              <thead>
                <th>Name</th>
                <th>New Bond Rating</th>
              </thead>
              <tbody>
                {{fields ratings}}
                <tr >
                  <td>{{>~key}}</td>
                  <td style="text-align: center;">{{>#data}}</td>
                </tr>
                {{/fields}}
              </tbody>
            </table>
            {{if nextPage}}
            <a href="#results-{{:nextPage}}" data-role="button">Next!</a>
            {{else}}
            <h2> Now go forth and LARP!</h2>
            <a href="index.html" data-role="button">Let's do that again!</a>
            {{/if}}
          </div>        
        </div>
      </script>


    </body>
  </html>
